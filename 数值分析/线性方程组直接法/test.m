% 含以下几组数据
% 1、三组迭代法的数据
% 2、教材上列主元消去法的例题
% 3、随机生成方程组
clear all
close all
%%
% 1、三组迭代法的数据
%
% A=[-2.53119321763923,-0.0331188457689162,-0.0709649575423352;-4.42048444554312,3.33763562379000,2.18375878119889;-1.06642961129167,0.915657257278184,-3.04498745270765];
% b=[-3.46951598628394;4.62833096895301;-2.99402368179629];

% A=[-3.98997849433770,0.890928625745769,3.18989912575377;-2.41075395398364,3.68439233264640,-0.550482458296239;0.537459024711985,4.46291702906506,2.94184911182297];
% b=[2.31317215844629;-3.50074062919328;-0.793967981473040];

% A=[-1.81287714120605,2.15563897028514,-3.88250665765144;-2.77749165407443,2.38377561447117,3.30159471489712;-0.203625164261755,-0.764109815047471,4.02651788606604];
% b=[1.25165140369131;-2.90527244851318;0.894650109875066];

% 2、教材上列主元消去法的例题
% % 比较高斯消去法及列主元消去法
% (注意：双精度15 位，单精度7 位，所以反例并不好找！)
% A=[0.001 2.000 3.000;-1.000 3.712 4.623;-2.000 1.072 5.643];
% b=[1.000;2.000;3.000];
%%
%% 3、随机生成方程组（注：此为特殊方程组（小主元），实际使用时要进行修改）
nx=input('请输入方程组的阶数，n=');
% % 判断方程组是否有根
for i=1:10
    A=single(zeros(nx,nx));
    b=single(zeros(nx,1));
    A=10*rand(nx,nx)-5*ones(nx,nx);
    A(1,1)=10^(-16);
    b=10*rand(nx,1)-5*ones(nx,1);
    while inv(A)==0%求矩阵的逆（保证其不为零）
        fprintf('奇异\n')
        A=10*rand(nx,nx)-5*ones(nx,nx);
        A(1,1)=0.00000000001;
        b=10*rand(nx,1)-5*ones(nx,1);
    end
    %%
    t=zeros(2,10);
    [XG, t1]=GuassE(A,b);
    [XC, t2]=CPEE(A,b);
    t(1,i)=t1;
    t(2,i)=t2;
    X=inv(A)*b
    table(XG,XC,X)
end